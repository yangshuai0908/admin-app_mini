{"version":3,"file":"coupon.js","sources":["subpkg/pages/user/coupon.vue","D:/谷歌下载/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3VicGtnXHBhZ2VzXHVzZXJcY291cG9uLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"coupon-container\">\r\n\t\t<!-- 顶部导航栏 -->\r\n\t\t<view class=\"coupon-header\" :style=\"{ paddingTop: customNavBarHeight + 'px' }\">\r\n\t\t\t<img src=\"../../../static/page_arrow.png\" alt=\"\" class=\"back-icon\" @click=\"goBack\">\r\n\t\t\t<text class=\"nav-title\">优惠券</text>\r\n\t\t\t<view class=\"nav-placeholder\"></view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 优惠券切换标签 -->\r\n\t\t<view class=\"coupon-tabs\">\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: activeTab === 'available' }\" @click=\"switchTab('available')\">\r\n\t\t\t\t<text>可使用 ({{ availableCoupons.length }})</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: activeTab === 'used' }\" @click=\"switchTab('used')\">\r\n\t\t\t\t<text>已使用 ({{ usedCoupons.length }})</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: activeTab === 'expired' }\" @click=\"switchTab('expired')\">\r\n\t\t\t\t<text>已过期 ({{ expiredCoupons.length }})</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 优惠券列表 -->\r\n\t\t<view class=\"coupon-list\">\r\n\t\t\t<view v-if=\"currentCoupons.length === 0\" class=\"empty-state\">\r\n\t\t\t\t<text class=\"empty-text\">暂无优惠券</text>\r\n\t\t\t</view>\r\n\t\t\t<view v-else>\r\n\t\t\t\t<view v-for=\"coupon in currentCoupons\" :key=\"coupon.id\" class=\"coupon-item\"\r\n\t\t\t\t\t:class=\"{ disabled: coupon.status !== 'available' }\">\r\n\t\t\t\t\t<view class=\"coupon-left\">\r\n\t\t\t\t\t\t<view class=\"coupon-amount\">\r\n\t\t\t\t\t\t\t<text class=\"currency\">￥</text>\r\n\t\t\t\t\t\t\t<text class=\"amount\">{{ coupon.amount }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"coupon-condition\">{{ coupon.condition }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"coupon-divider\">\r\n\t\t\t\t\t\t<view class=\"divider-circle divider-circle-top\"></view>\r\n\t\t\t\t\t\t<view class=\"divider-line\"></view>\r\n\t\t\t\t\t\t<view class=\"divider-circle divider-circle-bottom\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"coupon-right\">\r\n\t\t\t\t\t\t<view class=\"coupon-info\">\r\n\t\t\t\t\t\t\t<text class=\"coupon-title\">{{ coupon.title }}</text>\r\n\t\t\t\t\t\t\t<text class=\"coupon-desc\">{{ coupon.description }}</text>\r\n\t\t\t\t\t\t\t<text class=\"coupon-date\">有效期至：{{ coupon.expireDate }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"coupon-status\">\r\n\t\t\t\t\t\t\t<text class=\"status-text\" :class=\"getStatusClass(coupon.status)\">\r\n\t\t\t\t\t\t\t\t{{ getStatusText(coupon.status) }}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 底部提示 -->\r\n\t\t<view class=\"coupon-tips\">\r\n\t\t\t<text>使用规则：请在有效期内使用，过期将自动失效</text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\n\r\n// 自定义导航栏高度\r\nconst windowInfo = wx.getWindowInfo()\r\nconst menuButtonInfo = wx.getMenuButtonBoundingClientRect()\r\nconst customNavBarHeight = windowInfo.statusBarHeight + (menuButtonInfo.top - windowInfo.statusBarHeight)\r\n\r\n// 当前选中的标签\r\nconst activeTab = ref('available')\r\n\r\n// 优惠券数据\r\nconst availableCoupons = ref([\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: '新用户专享券',\r\n\t\tdescription: '满100元可用',\r\n\t\tamount: '20',\r\n\t\tcondition: '满100元',\r\n\t\texpireDate: '2024-12-31',\r\n\t\tstatus: 'available'\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: '满减优惠券',\r\n\t\tdescription: '满200元可用',\r\n\t\tamount: '50',\r\n\t\tcondition: '满200元',\r\n\t\texpireDate: '2024-12-25',\r\n\t\tstatus: 'available'\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ttitle: '宠物用品券',\r\n\t\tdescription: '全场通用',\r\n\t\tamount: '10',\r\n\t\tcondition: '无门槛',\r\n\t\texpireDate: '2024-12-20',\r\n\t\tstatus: 'available'\r\n\t}\r\n])\r\n\r\nconst usedCoupons = ref([\r\n\t{\r\n\t\tid: 4,\r\n\t\ttitle: '双十一特惠券',\r\n\t\tdescription: '已使用',\r\n\t\tamount: '30',\r\n\t\tcondition: '满150元',\r\n\t\texpireDate: '2024-11-15',\r\n\t\tstatus: 'used'\r\n\t}\r\n])\r\n\r\nconst expiredCoupons = ref([\r\n\t{\r\n\t\tid: 5,\r\n\t\ttitle: '过期优惠券',\r\n\t\tdescription: '已过期',\r\n\t\tamount: '15',\r\n\t\tcondition: '满80元',\r\n\t\texpireDate: '2024-10-31',\r\n\t\tstatus: 'expired'\r\n\t}\r\n])\r\n\r\n// 当前显示的优惠券列表\r\nconst currentCoupons = computed(() => {\r\n\tswitch (activeTab.value) {\r\n\t\tcase 'available':\r\n\t\t\treturn availableCoupons.value\r\n\t\tcase 'used':\r\n\t\t\treturn usedCoupons.value\r\n\t\tcase 'expired':\r\n\t\t\treturn expiredCoupons.value\r\n\t\tdefault:\r\n\t\t\treturn availableCoupons.value\r\n\t}\r\n})\r\n\r\n// 切换标签\r\nconst switchTab = (tab) => {\r\n\tactiveTab.value = tab\r\n}\r\n\r\n// 获取状态文字\r\nconst getStatusText = (status) => {\r\n\tconst statusMap = {\r\n\t\tavailable: '可使用',\r\n\t\tused: '已使用',\r\n\t\texpired: '已过期'\r\n\t}\r\n\treturn statusMap[status] || '未知'\r\n}\r\n\r\n// 获取状态样式类\r\nconst getStatusClass = (status) => {\r\n\treturn `status-${status}`\r\n}\r\n\r\n// 返回上一页\r\nconst goBack = () => {\r\n\tuni.navigateBack({\r\n\t\tdelta: 1\r\n\t})\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.coupon-container {\r\n\tmin-height: 100vh;\r\n\tbackground: #f5f5f5;\r\n}\r\n\r\n// 顶部导航栏\r\n.coupon-header {\r\n\tbackground: #fff;\r\n\tpadding: 0 32rpx;\r\n\tpadding-bottom: 20rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tz-index: 100;\r\n\r\n\t.back-icon {\r\n\t\twidth: 36rpx;\r\n\t\theight: 36rpx;\r\n\t}\r\n\r\n\t.nav-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #000;\r\n\t}\r\n\r\n\t.nav-placeholder {\r\n\t\twidth: 60rpx;\r\n\t}\r\n}\r\n\r\n// 标签切换\r\n.coupon-tabs {\r\n\tdisplay: flex;\r\n\tbackground: #fff;\r\n\tmargin-bottom: 20rpx;\r\n\r\n\t.tab-item {\r\n\t\tflex: 1;\r\n\t\ttext-align: center;\r\n\t\tpadding: 30rpx 0;\r\n\t\tborder-bottom: 4rpx solid transparent;\r\n\r\n\t\ttext {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\t\t}\r\n\r\n\t\t&.active {\r\n\t\t\tborder-bottom-color: #FF6B35;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tcolor: #FF6B35;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// 优惠券列表\r\n.coupon-list {\r\n\tpadding: 0 32rpx;\r\n\r\n\t.empty-state {\r\n\t\ttext-align: center;\r\n\t\tpadding: 100rpx 0;\r\n\r\n\t\t.empty-text {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\r\n\t.coupon-item {\r\n\t\tdisplay: flex;\r\n\t\tbackground: #fff;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\r\n\t\t&.disabled {\r\n\t\t\topacity: 0.6;\r\n\t\t}\r\n\r\n\t\t.coupon-left {\r\n\t\t\tbackground: linear-gradient(135deg, #FF6B35 0%, #FF8C42 100%);\r\n\t\t\tpadding: 40rpx 30rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tmin-width: 180rpx;\r\n\r\n\t\t\t.coupon-amount {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: baseline;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\r\n\t\t\t\t.currency {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tmargin-right: 4rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.amount {\r\n\t\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tfont-weight: 700;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.coupon-condition {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: rgba(255, 255, 255, 0.9);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.coupon-divider {\r\n\t\t\tposition: relative;\r\n\t\t\twidth: 10rpx;\r\n\t\t\tbackground: #f5f5f5;\r\n\r\n\t\t\t.divider-circle {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 20rpx;\r\n\t\t\t\theight: 20rpx;\r\n\t\t\t\tbackground: #f5f5f5;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\r\n\t\t\t\t&.divider-circle-top {\r\n\t\t\t\t\ttop: -10rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.divider-circle-bottom {\r\n\t\t\t\t\tbottom: -10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.divider-line {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 10rpx;\r\n\t\t\t\tbottom: 10rpx;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\twidth: 2rpx;\r\n\t\t\t\tbackground: #ddd;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.coupon-right {\r\n\t\t\tflex: 1;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.coupon-info {\r\n\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t.coupon-title {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-desc {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-date {\r\n\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.coupon-status {\r\n\t\t\t\t.status-text {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tpadding: 8rpx 16rpx;\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tborder: 2rpx solid;\r\n\r\n\t\t\t\t\t&.status-available {\r\n\t\t\t\t\t\tcolor: #FF6B35;\r\n\t\t\t\t\t\tborder-color: #FF6B35;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.status-used {\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\tborder-color: #999;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.status-expired {\r\n\t\t\t\t\t\tcolor: #ff4757;\r\n\t\t\t\t\t\tborder-color: #ff4757;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// 底部提示\r\n.coupon-tips {\r\n\tpadding: 30rpx 32rpx;\r\n\ttext-align: center;\r\n\r\n\ttext {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n}\r\n</style>","import MiniProgramPage from 'F:/v3/admin-app/subpkg/pages/user/coupon.vue'\nwx.createPage(MiniProgramPage)"],"names":["wx","ref","computed","uni"],"mappings":";;;;;;AAqEA,UAAM,aAAaA,cAAE,KAAC,cAAe;AACrC,UAAM,iBAAiBA,cAAE,KAAC,gCAAiC;AAC3D,UAAM,qBAAqB,WAAW,mBAAmB,eAAe,MAAM,WAAW;AAGzF,UAAM,YAAYC,cAAG,IAAC,WAAW;AAGjC,UAAM,mBAAmBA,cAAAA,IAAI;AAAA,MAC5B;AAAA,QACC,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,QAAQ;AAAA,MACR;AAAA,MACD;AAAA,QACC,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,QAAQ;AAAA,MACR;AAAA,MACD;AAAA,QACC,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,QAAQ;AAAA,MACR;AAAA,IACF,CAAC;AAED,UAAM,cAAcA,cAAAA,IAAI;AAAA,MACvB;AAAA,QACC,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,QAAQ;AAAA,MACR;AAAA,IACF,CAAC;AAED,UAAM,iBAAiBA,cAAAA,IAAI;AAAA,MAC1B;AAAA,QACC,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,QAAQ;AAAA,MACR;AAAA,IACF,CAAC;AAGD,UAAM,iBAAiBC,cAAQ,SAAC,MAAM;AACrC,cAAQ,UAAU,OAAK;AAAA,QACtB,KAAK;AACJ,iBAAO,iBAAiB;AAAA,QACzB,KAAK;AACJ,iBAAO,YAAY;AAAA,QACpB,KAAK;AACJ,iBAAO,eAAe;AAAA,QACvB;AACC,iBAAO,iBAAiB;AAAA,MACzB;AAAA,IACF,CAAC;AAGD,UAAM,YAAY,CAAC,QAAQ;AAC1B,gBAAU,QAAQ;AAAA,IACnB;AAGA,UAAM,gBAAgB,CAAC,WAAW;AACjC,YAAM,YAAY;AAAA,QACjB,WAAW;AAAA,QACX,MAAM;AAAA,QACN,SAAS;AAAA,MACT;AACD,aAAO,UAAU,MAAM,KAAK;AAAA,IAC7B;AAGA,UAAM,iBAAiB,CAAC,WAAW;AAClC,aAAO,UAAU,MAAM;AAAA,IACxB;AAGA,UAAM,SAAS,MAAM;AACpBC,oBAAAA,MAAI,aAAa;AAAA,QAChB,OAAO;AAAA,MACT,CAAE;AAAA,IACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzKA,GAAG,WAAW,eAAe;"}