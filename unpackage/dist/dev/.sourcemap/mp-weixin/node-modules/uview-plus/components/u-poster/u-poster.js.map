{"version":3,"file":"u-poster.js","sources":["node_modules/uview-plus/components/u-poster/u-poster.vue","D:/谷歌下载/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjovdjMvYWRtaW4tYXBwL25vZGVfbW9kdWxlcy91dmlldy1wbHVzL2NvbXBvbmVudHMvdS1wb3N0ZXIvdS1wb3N0ZXIudnVl"],"sourcesContent":["<template>\n\t<view class=\"up-poster\">\n\t\t<!-- canvas用于绘制海报 -->\n\t\t<canvas \n\t\t\tv-if=\"showCanvas\" \n\t\t\tclass=\"up-poster__hidden-canvas\" \n\t\t\t:canvas-id=\"canvasId\" \n\t\t\t:id=\"canvasId\"\n\t\t\t:style=\"{ width: canvasWidth + 'px', height: canvasHeight + 'px' }\">\n\t\t</canvas>\n\t\t<!-- 隐藏的二维码组件，用于生成二维码图片 -->\n\t\t<up-qrcode \n\t\t\tref=\"qrCode\" \n\t\t\t:val=\"qrCodeValue\" \n\t\t\t:size=\"qrCodeSize\" \n\t\t\t:margin=\"0\" \n            :loadMake=\"false\"\n\t\t\tbackground=\"#ffffff\"\n\t\t\tforeground=\"#000000\"\n\t\t\t:class=\"['up-poster__hidden-qrcode', qrCodeShow ? '' : 'up-poster__hidden-qrcode--hidden']\"\n\t\t/>\n\t</view>\n</template>\n\n<script>\n/**\n * Poster 海报组件\n * @description 用于生成海报的组件，支持文本、图片、二维码等元素\n * @tutorial https://uview-plus.jiangruyi.com/components/poster.html\n * \n * @property {Object} json 海报配置JSON数据\n * @property {Object} json.css 海报容器样式\n * @property {Array}  json.views 海报元素列表\n * @property {String} json.views.type 元素类型(text/image/qrcode/view)\n * @property {String} json.views.text 文本内容(仅text类型)\n * @property {String} json.views.src 图片地址(仅image/qrcode类型)\n * @property {Object} json.views.css 元素样式\n * \n * @example <up-poster :json=\"posterJson\"></up-poster>\n */\n\nimport {\n\trpx2px\n} from '../../libs/function/index.js';\nexport default {\n\tname: 'up-poster',\n\tprops: {\n\t\tjson: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanvasId: 'u-poster-canvas-' + Date.now(),\n\t\t\tshowCanvas: false,\n\t\t\tcanvasWidth: 0,\n\t\t\tcanvasHeight: 0,\n\t\t\t// 二维码相关数据\n\t\t\tqrCodeValue: '',\n\t\t\tqrCodeSize: 200,\n\t\t\tqrCodeShow: false,\n\t\t\t// 存储多个二维码的数据\n\t\t\tqrCodeMap: new Map()\n\t\t}\n\t},\n\tcomputed: {\n\t\t// 根据传入的css生成文本样式\n\t\tgetTextStyle() {\n\t\t\treturn (css) => {\n\t\t\t\tconst style = {};\n\t\t\t\tif (css.color) style.color = css.color;\n\t\t\t\tif (css.fontSize) style.fontSize = css.fontSize;\n\t\t\t\tif (css.fontWeight) style.fontWeight = css.fontWeight;\n\t\t\t\tif (css.lineHeight) style.lineHeight = css.lineHeight;\n\t\t\t\tif (css.textAlign) style.textAlign = css.textAlign;\n\t\t\t\treturn style;\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t/**\n\t\t * 导出海报图片\n\t\t * @description 根据json配置生成海报并导出为临时图片路径\n\t\t * @returns {Promise<Object>} 返回包含图片信息的对象\n\t\t * @author jry ijry@qq.com\n\t\t */\n\t\tasync exportImage() {\n\t\t\treturn new Promise(async(resolve, reject) => {\n                try {\n                    // 获取海报尺寸信息\n                    const posterSize = this.json.css;\n                    // 将rpx转换为px\n                    const width = this.convertRpxToPx(posterSize.width || '750rpx');\n                    const height = this.convertRpxToPx(posterSize.height || '1114rpx');\n                    \n                    // 设置canvas尺寸\n                    this.canvasWidth = width;\n                    this.canvasHeight = height;\n                    this.showCanvas = true;\n                    \n                    // 等待DOM更新\n                    await this.$nextTick();\n                    \n                    // 创建canvas上下文\n                    const ctx = uni.createCanvasContext(this.canvasId, this);\n                    \n                    // 绘制背景\n                    if (posterSize.background) {\n                        // 支持渐变背景色\n\t\t\t\t\t\tif (posterSize.background.includes('linear-gradient') || posterSize.background.includes('radial-gradient')) {\n\t\t\t\t\t\t\tthis.drawGradientBackground(ctx, posterSize, 0, 0, width, height);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.setFillStyle(posterSize.background);\n                            ctx.fillRect(0, 0, width, height);\n\t\t\t\t\t\t}\n                    }\n                    \n                    // 绘制所有元素\n                    for (const item of this.json.views) {\n                        await this.drawItem(ctx, item, width, height);\n                    }\n                    \n                    // 绘制到canvas\n                    ctx.draw(false, () => {\n                        // 等待绘制完成\n                        setTimeout(() => {\n                            // 导出图片\n                            uni.canvasToTempFilePath({\n                                canvasId: this.canvasId,\n                                success: (res) => {\n                                    // 隐藏canvas\n                                    this.showCanvas = false;\n                                    // 返回图片路径\n                                    resolve({\n                                        width: width,\n                                        height: height,\n                                        path: res.tempFilePath,\n                                        // H5下添加blob格式\n                                        blob: this.dataURLToBlob(res.tempFilePath)\n                                    });\n                                },\n                                fail: (err) => {\n                                    // 隐藏canvas\n                                    this.showCanvas = false;\n                                    reject(new Error('导出图片失败: ' + JSON.stringify(err)));\n                                }\n                            }, this);\n                        }, 300);\n                    });\n                    \n                    // 超时处理\n                    setTimeout(() => {\n                        this.showCanvas = false;\n                        reject(new Error('导出图片超时'));\n                    }, 10000);\n                } catch (error) {\n                    this.showCanvas = false;\n                    reject(error);\n                }\n\t\t\t});\n\t\t},\n\t\t\n\t\t/**\n\t\t * 绘制单个元素\n\t\t * @description 根据元素类型绘制文本、图片、矩形或二维码到canvas\n\t\t * @param {Object} ctx canvas上下文\n\t\t * @param {Object} item 元素配置信息\n\t\t * @param {Number} canvasWidth canvas宽度\n\t\t * @param {Number} canvasHeight canvas高度\n\t\t * @returns {Promise} 绘制完成的Promise\n\t\t * @author jry ijry@qq.com\n\t\t */\n\t\tasync drawItem(ctx, item, canvasWidth, canvasHeight) {\n\t\t\tconst css = item.css || {};\n\t\t\tconst left = this.convertRpxToPx(css.left || '0rpx');\n\t\t\tconst top = this.convertRpxToPx(css.top || '0rpx');\n\t\t\tconst width = this.convertRpxToPx(css.width || '0rpx');\n\t\t\tconst height = this.convertRpxToPx(css.height || '0rpx');\n\t\t\t\n\t\t\tswitch (item.type) {\n\t\t\t\tcase 'view':\n\t\t\t\t\t// 绘制矩形背景\n\t\t\t\t\tif (css.background) {\n\t\t\t\t\t\t// 支持渐变背景色\n\t\t\t\t\t\tif (css.background.includes('linear-gradient') || css.background.includes('radial-gradient')) {\n\t\t\t\t\t\t\tthis.drawGradientBackground(ctx, css, left, top, width, height);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.setFillStyle(css.background);\n\t\t\t\t\t\t\t// 处理圆角\n\t\t\t\t\t\t\tif (css.radius) {\n\t\t\t\t\t\t\t\tconst radius = this.convertRpxToPx(css.radius);\n\t\t\t\t\t\t\t\tthis.drawRoundRect(ctx, left, top, width, height, radius, css.background);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tctx.fillRect(left, top, width, height);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\tcase 'text':\n\t\t\t\t\t// 设置文本样式\n\t\t\t\t\tif (css.color) ctx.setFillStyle(css.color);\n\t\t\t\t\tif (css.fontSize) {\n\t\t\t\t\t\tconst fontSize = this.convertRpxToPx(css.fontSize);\n\t\t\t\t\t\tctx.setFontSize(fontSize);\n\t\t\t\t\t}\n\t\t\t\t\tif (css.fontWeight) {\n\t\t\t\t\t\tctx.setLineWidth(css.fontWeight === 'bold' ? 2 : 1);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 处理文本换行\n\t\t\t\t\tif (css.lineClamp) {\n\t\t\t\t\t\tthis.drawTextWithLineClamp(ctx, item.text, left, top, width, css);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 修复：文本垂直居中对齐问题\n\t\t\t\t\t\tconst textBaseLine = css.fontSize ? this.convertRpxToPx(css.fontSize) / 2 : 10;\n\t\t\t\t\t\tctx.fillText(item.text, left, top + textBaseLine);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\tcase 'image':\n\t\t\t\t\t// 绘制图片\n\t\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\t\tsrc: item.src,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t// console.log('图片加载成功: ' + item.src, res);\n\t\t\t\t\t\t\t\t// 处理圆角\n\t\t\t\t\t\t\t\tif (css.radius) {\n\t\t\t\t\t\t\t\t\tconst radius = this.convertRpxToPx(css.radius);\n\t\t\t\t\t\t\t\t\tthis.clipRoundRect(ctx, left, top, width, height, radius);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// 不能用item.src，要用res.path。\n\t\t\t\t\t\t\t\tctx.drawImage(res.path, left, top, width, height);\n\t\t\t\t\t\t\t\t// 恢复剪切区域\n\t\t\t\t\t\t\t\tctx.restore();\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\t\t\t// 图片加载失败时绘制占位符\n\t\t\t\t\t\t\t\tctx.setFillStyle('#f5f5f5');\n\t\t\t\t\t\t\t\tctx.fillRect(left, top, width, height);\n\t\t\t\t\t\t\t\tconsole.log('图片加载失败: ' + item.src, e);\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\tcase 'qrcode':\n\t\t\t\t\t// 绘制二维码\n\t\t\t\t\tif (item.text) {\n\t\t\t\t\t\t// 使用u-qrcode生成二维码图片\n\t\t\t\t\t\tconst qrCodeImageUrl = await this.generateQRCode(item.text, width, height);\n\t\t\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\t\t\tsrc: qrCodeImageUrl,\n\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\tctx.drawImage(res.path, left, top, width, height);\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\t\t\t// 二维码加载失败时绘制占位符\n\t\t\t\t\t\t\t\t\tctx.setFillStyle('#f5f5f5');\n\t\t\t\t\t\t\t\t\tctx.fillRect(left, top, width, height);\n\t\t\t\t\t\t\t\t\tctx.setFillStyle('#999');\n\t\t\t\t\t\t\t\t\tctx.setFontSize(12);\n\t\t\t\t\t\t\t\t\tctx.setTextAlign('center');\n\t\t\t\t\t\t\t\t\tctx.fillText('QR', left + width/2, top + height/2);\n\t\t\t\t\t\t\t\t\tctx.setTextAlign('left');\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 绘制二维码占位符\n\t\t\t\t\t\tctx.setFillStyle('#f5f5f5');\n\t\t\t\t\t\tctx.fillRect(left, top, width, height);\n\t\t\t\t\t\tctx.setFillStyle('#999');\n\t\t\t\t\t\tctx.setFontSize(12);\n\t\t\t\t\t\tctx.setTextAlign('center');\n\t\t\t\t\t\tctx.fillText('QR', left + width/2, top + height/2);\n\t\t\t\t\t\tctx.setTextAlign('left');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * 绘制圆角矩形\n\t\t * @description 绘制指定位置和尺寸的圆角矩形\n\t\t * @param {Object} ctx canvas上下文\n\t\t * @param {Number} x x坐标\n\t\t * @param {Number} y y坐标\n\t\t * @param {Number} width 宽度\n\t\t * @param {Number} height 高度\n\t\t * @param {Number} radius 圆角半径\n\t\t * @param {String} fillColor 填充颜色\n\t\t * @author jry ijry@qq.com\n\t\t */\n\t\tdrawRoundRect(ctx, x, y, width, height, radius, fillColor) {\n\t\t\tctx.save();\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x + radius, y);\n\t\t\tctx.lineTo(x + width - radius, y);\n\t\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\t\tctx.lineTo(x + width, y + height - radius);\n\t\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\t\tctx.lineTo(x + radius, y + height);\n\t\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\t\tctx.lineTo(x, y + radius);\n\t\t\tctx.quadraticCurveTo(x, y, x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tif (fillColor) {\n\t\t\t\tctx.setFillStyle(fillColor);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t\tctx.restore();\n\t\t},\n\t\t\n\t\t/**\n\t\t * 裁剪圆角矩形区域\n\t\t * @description 在canvas上创建圆角矩形裁剪区域\n\t\t * @param {Object} ctx canvas上下文\n\t\t * @param {Number} x x坐标\n\t\t * @param {Number} y y坐标\n\t\t * @param {Number} width 宽度\n\t\t * @param {Number} height 高度\n\t\t * @param {Number} radius 圆角半径\n\t\t * @author jry ijry@qq.com\n\t\t */\n\t\tclipRoundRect(ctx, x, y, width, height, radius) {\n\t\t\tctx.save();\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(x + radius, y + radius, radius, Math.PI, Math.PI * 1.5);\n\t\t\tctx.lineTo(x + width - radius, y);\n\t\t\tctx.arc(x + width - radius, y + radius, radius, Math.PI * 1.5, Math.PI * 2);\n\t\t\tctx.lineTo(x + width, y + height - radius);\n\t\t\tctx.arc(x + width - radius, y + height - radius, radius, 0, Math.PI * 0.5);\n\t\t\tctx.lineTo(x + radius, y + height);\n\t\t\tctx.arc(x + radius, y + height - radius, radius, Math.PI * 0.5, Math.PI);\n\t\t\tctx.closePath();\n\t\t\tctx.clip();\n\t\t},\n\t\t\n\t\t/**\n\t\t * 绘制带行数限制的文本\n\t\t * @description 绘制可控制最大行数的文本，超出部分显示省略号\n\t\t * @param {Object} ctx canvas上下文\n\t\t * @param {String} text 文本内容\n\t\t * @param {Number} x x坐标\n\t\t * @param {Number} y y坐标\n\t\t * @param {Number} maxWidth 最大宽度\n\t\t * @param {Object} css 样式配置\n\t\t * @author jry ijry@qq.com\n\t\t */\n\t\tdrawTextWithLineClamp(ctx, text, x, y, maxWidth, css) {\n            const lineClamp = parseInt(css.lineClamp) || 1;\n            const lineHeight = css.lineHeight ? this.convertRpxToPx(css.lineHeight) : 20;\n            const lines = [];\n            let currentLine = '';\n            \n            for (let i = 0; i < text.length; i++) {\n                const char = text[i];\n                const testLine = currentLine + char;\n                const metrics = ctx.measureText(testLine);\n                \n                if (metrics.width > maxWidth && currentLine !== '') {\n                    lines.push(currentLine);\n                    currentLine = char;\n                    \n                    // 如果已达最大行数，添加省略号并结束\n                    if (lines.length === lineClamp) {\n                        if (metrics.width > maxWidth) {\n                            // 添加省略号\n                            let fitLine = currentLine.substring(0, currentLine.length - 1);\n                            while (ctx.measureText(fitLine + '...').width > maxWidth && fitLine.length > 0) {\n                                fitLine = fitLine.substring(0, fitLine.length - 1);\n                            }\n                            lines[lines.length - 1] = fitLine + '...';\n                        }\n                        break;\n                    }\n                } else {\n                    currentLine = testLine;\n                }\n                \n                // 处理最后一行\n                if (i === text.length - 1 && lines.length < lineClamp) {\n                    lines.push(currentLine);\n                }\n            }\n            \n            // 绘制每一行\n            for (let i = 0; i < lines.length; i++) {\n                // 修复：正确计算文本垂直位置\n                const textBaseLine = css.fontSize ? this.convertRpxToPx(css.fontSize) / 2 : 10;\n                ctx.fillText(lines[i], x, y + (i * lineHeight) + textBaseLine);\n            }\n        },\n\t\t\n\t\t/**\n\t\t * 生成二维码图片\n\t\t * @description 根据文本内容生成二维码图片URL\n\t\t * @param {String} text 二维码内容\n\t\t * @param {Number} width 二维码宽度\n\t\t * @param {Number} height 二维码高度\n\t\t * @returns {Promise<String>} 二维码图片URL\n\t\t * @author jry ijry@qq.com\n\t\t */\n\t\tgenerateQRCode(text, width, height) {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\t// 为每个二维码生成唯一标识\n\t\t\t\tconst qrCodeKey = `${text}_${width}_${height}`;\n\t\t\t\t\n\t\t\t\t// 检查是否已经生成过该二维码\n\t\t\t\tif (this.qrCodeMap.has(qrCodeKey)) {\n\t\t\t\t\tresolve(this.qrCodeMap.get(qrCodeKey));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 使用 u-qrcode 组件生成二维码\n\t\t\t\ttry {\n\t\t\t\t\t// 设置二维码参数\n\t\t\t\t\tthis.qrCodeValue = text;\n\t\t\t\t\tthis.qrCodeSize = Math.max(width, height);\n\t\t\t\t\tthis.qrCodeShow = true;\n\t\t\t\t\t\n\t\t\t\t\t// 等待DOM更新\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t// 获取二维码组件实例并导出图片\n\t\t\t\t\t\tif (this.$refs.qrCode) {\n\t\t\t\t\t\t\t// 延迟一点时间确保二维码渲染完成\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t// 调用 u-qrcode 的 toTempFilePath 方法导出图片\n\t\t\t\t\t\t\t\tthis.$refs.qrCode.toTempFilePath({\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t// 缓存二维码图片路径\n\t\t\t\t\t\t\t\t\t\tthis.qrCodeMap.set(qrCodeKey, res.tempFilePath);\n\t\t\t\t\t\t\t\t\t\tthis.qrCodeShow = false;\n\t\t\t\t\t\t\t\t\t\tresolve(res.tempFilePath);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\t\t\tconsole.error('二维码生成失败:', err);\n\t\t\t\t\t\t\t\t\t\tthis.qrCodeShow = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 如果没有 u-qrcode 组件，返回占位符\n\t\t\t\t\t\t\tthis.qrCodeShow = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('生成二维码出错:', error);\n\t\t\t\t\tthis.qrCodeShow = false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t/**\n\t\t * 将rpx单位转换为px\n\t\t * @description 根据屏幕密度将rpx单位转换为px单位\n\t\t * @param {String|Number} rpxValue rpx值\n\t\t * @returns {Number} 转换后的px值\n\t\t * @author jry ijry@qq.com\n\t\t */\n\t\tconvertRpxToPx(rpxValue) {\n\t\t\tif (typeof rpxValue === 'number') return rpxValue;\n\t\t\t\n\t\t\t// 使用rpx2px方法\n\t\t\tif (typeof rpxValue === 'string' && rpxValue.endsWith('rpx')) {\n\t\t\t\tconst value = parseFloat(rpxValue);\n\t\t\t\treturn rpx2px(value);\n\t\t\t}\n\t\t\t\n\t\t\treturn parseFloat(rpxValue) || 0;\n\t\t},\n\t\t\n\t\t/**\n\t\t * 绘制渐变背景\n\t\t * @description 绘制线性渐变或径向渐变背景\n\t\t * @param {Object} ctx canvas上下文\n\t\t * @param {Object} css 样式配置\n\t\t * @param {Number} left 左边距\n\t\t * @param {Number} top 上边距\n\t\t * @param {Number} width 宽度\n\t\t * @param {Number} height 高度\n\t\t * @author jry ijry@qq.com\n\t\t */\n\t\tdrawGradientBackground(ctx, css, left, top, width, height) {\n\t\t\tconst background = css.background;\n\t\t\tlet gradient = null;\n\t\t\t\n\t\t\t// 处理线性渐变\n\t\t\tif (background.includes('linear-gradient')) {\n\t\t\t\t// 解析线性渐变角度和颜色\n\t\t\t\tconst angleMatch = background.match(/linear-gradient\\((\\d+)deg/);\n\t\t\t\tconst angle = angleMatch ? parseInt(angleMatch[1]) : 135;\n\t\t\t\t\n\t\t\t\t// 根据角度计算渐变起点和终点\n\t\t\t\tlet startX = left, startY = top, endX = left + width, endY = top + height;\n\t\t\t\t\n\t\t\t\t// 简化的角度处理（支持常见角度）\n\t\t\t\tif (angle === 0) {\n\t\t\t\t\tstartX = left;\n\t\t\t\t\tstartY = top + height;\n\t\t\t\t\tendX = left;\n\t\t\t\t\tendY = top;\n\t\t\t\t} else if (angle === 90) {\n\t\t\t\t\tstartX = left;\n\t\t\t\t\tstartY = top;\n\t\t\t\t\tendX = left + width;\n\t\t\t\t\tendY = top;\n\t\t\t\t} else if (angle === 180) {\n\t\t\t\t\tstartX = left;\n\t\t\t\t\tstartY = top;\n\t\t\t\t\tendX = left;\n\t\t\t\t\tendY = top + height;\n\t\t\t\t} else if (angle === 270) {\n\t\t\t\t\tstartX = left + width;\n\t\t\t\t\tstartY = top;\n\t\t\t\t\tendX = left;\n\t\t\t\t\tendY = top;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tgradient = ctx.createLinearGradient(startX, startY, endX, endY);\n\t\t\t\t\n\t\t\t\t// 解析颜色值\n\t\t\t\tconst colorMatches = background.match(/#[0-9a-fA-F]+|rgba?\\([^)]+\\)/g);\n\t\t\t\tif (colorMatches && colorMatches.length >= 2) {\n\t\t\t\t\t// 添加渐变色点\n\t\t\t\t\tcolorMatches.forEach((color, index) => {\n\t\t\t\t\t\tconst stop = index / (colorMatches.length - 1);\n\t\t\t\t\t\tgradient.addColorStop(stop, color);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} \n\t\t\t// 处理径向渐变\n\t\t\telse if (background.includes('radial-gradient')) {\n\t\t\t\t// 径向渐变从中心开始\n\t\t\t\tconst centerX = left + width / 2;\n\t\t\t\tconst centerY = top + height / 2;\n\t\t\t\tconst radius = Math.min(width, height) / 2;\n\t\t\t\t\n\t\t\t\tgradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);\n\t\t\t\t\n\t\t\t\t// 解析颜色值\n\t\t\t\tconst colorMatches = background.match(/#[0-9a-fA-F]+|rgba?\\([^)]+\\)/g);\n\t\t\t\tif (colorMatches && colorMatches.length >= 2) {\n\t\t\t\t\t// 添加渐变色点\n\t\t\t\t\tcolorMatches.forEach((color, index) => {\n\t\t\t\t\t\tconst stop = index / (colorMatches.length - 1);\n\t\t\t\t\t\tgradient.addColorStop(stop, color);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (gradient) {\n\t\t\t\tctx.setFillStyle(gradient);\n\t\t\t\t// 处理圆角\n\t\t\t\tif (css.radius) {\n\t\t\t\t\tconst radius = this.convertRpxToPx(css.radius);\n\t\t\t\t\tthis.drawRoundRect(ctx, left, top, width, height, radius, gradient);\n\t\t\t\t} else {\n\t\t\t\t\tctx.fillRect(left, top, width, height);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * 将dataURL转换为Blob\n\t\t * @description H5环境下将base64格式的dataURL转换为Blob对象\n\t\t * @param {String} dataURL base64格式的图片数据\n\t\t * @returns {Blob} Blob对象\n\t\t * @author jry ijry@qq.com\n\t\t */\n\t\tdataURLToBlob(dataURL) {\n\t\t\t// 检查是否为H5环境且是base64数据\n\t\t\t// #ifdef H5\n\t\t\tif (dataURL && dataURL.startsWith('data:image')) {\n\t\t\t\tconst parts = dataURL.split(';base64,');\n\t\t\t\tconst contentType = parts[0].split(':')[1];\n\t\t\t\tconst raw = window.atob(parts[1]);\n\t\t\t\tconst rawLength = raw.length;\n\t\t\t\tconst uInt8Array = new Uint8Array(rawLength);\n\t\t\t\t\n\t\t\t\tfor (let i = 0; i < rawLength; ++i) {\n\t\t\t\t\tuInt8Array[i] = raw.charCodeAt(i);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn new Blob([uInt8Array], { type: contentType });\n\t\t\t}\n\t\t\t// #endif\n\t\t\t\n\t\t\treturn null;\n\t\t},\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.up-poster {\n\tposition: relative;\n\t\n\t&__canvas {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t}\n\t\n\t&__hidden-canvas {\n\t\tposition: fixed;\n\t\ttop: -10000px;\n\t\tleft: -10000px;\n\t\tz-index: -1;\n\t}\n\t\n\t&__hidden-qrcode {\n\t\tposition: fixed;\n\t\ttop: -10000px;\n\t\tleft: -10000px;\n\t\tz-index: -1;\n\t\t\n\t\t&--hidden {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n</style>","import Component from 'F:/v3/admin-app/node_modules/uview-plus/components/u-poster/u-poster.vue'\nwx.createComponent(Component)"],"names":["uni","rpx2px"],"mappings":";;AA4CA,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACN,MAAM;AAAA,MACL,MAAM;AAAA,MACN,SAAS,OAAO,CAAA;AAAA,IACjB;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,UAAU,qBAAqB,KAAK,IAAK;AAAA,MACzC,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,cAAc;AAAA;AAAA,MAEd,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,YAAY;AAAA;AAAA,MAEZ,WAAW,oBAAI,IAAI;AAAA,IACpB;AAAA,EACA;AAAA,EACD,UAAU;AAAA;AAAA,IAET,eAAe;AACd,aAAO,CAAC,QAAQ;AACf,cAAM,QAAQ,CAAA;AACd,YAAI,IAAI;AAAO,gBAAM,QAAQ,IAAI;AACjC,YAAI,IAAI;AAAU,gBAAM,WAAW,IAAI;AACvC,YAAI,IAAI;AAAY,gBAAM,aAAa,IAAI;AAC3C,YAAI,IAAI;AAAY,gBAAM,aAAa,IAAI;AAC3C,YAAI,IAAI;AAAW,gBAAM,YAAY,IAAI;AACzC,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOR,MAAM,cAAc;AACnB,aAAO,IAAI,QAAQ,OAAM,SAAS,WAAW;AAChC,YAAI;AAEA,gBAAM,aAAa,KAAK,KAAK;AAE7B,gBAAM,QAAQ,KAAK,eAAe,WAAW,SAAS,QAAQ;AAC9D,gBAAM,SAAS,KAAK,eAAe,WAAW,UAAU,SAAS;AAGjE,eAAK,cAAc;AACnB,eAAK,eAAe;AACpB,eAAK,aAAa;AAGlB,gBAAM,KAAK;AAGX,gBAAM,MAAMA,cAAAA,MAAI,oBAAoB,KAAK,UAAU,IAAI;AAGvD,cAAI,WAAW,YAAY;AAEzC,gBAAI,WAAW,WAAW,SAAS,iBAAiB,KAAK,WAAW,WAAW,SAAS,iBAAiB,GAAG;AAC3G,mBAAK,uBAAuB,KAAK,YAAY,GAAG,GAAG,OAAO,MAAM;AAAA,mBAC1D;AACN,kBAAI,aAAa,WAAW,UAAU;AACjB,kBAAI,SAAS,GAAG,GAAG,OAAO,MAAM;AAAA,YACtD;AAAA,UACc;AAGA,qBAAW,QAAQ,KAAK,KAAK,OAAO;AAChC,kBAAM,KAAK,SAAS,KAAK,MAAM,OAAO,MAAM;AAAA,UAChD;AAGA,cAAI,KAAK,OAAO,MAAM;AAElB,uBAAW,MAAM;AAEbA,4BAAAA,MAAI,qBAAqB;AAAA,gBACrB,UAAU,KAAK;AAAA,gBACf,SAAS,CAAC,QAAQ;AAEd,uBAAK,aAAa;AAElB,0BAAQ;AAAA,oBACJ;AAAA,oBACA;AAAA,oBACA,MAAM,IAAI;AAAA;AAAA,oBAEV,MAAM,KAAK,cAAc,IAAI,YAAY;AAAA,kBAC7C,CAAC;AAAA,gBACJ;AAAA,gBACD,MAAM,CAAC,QAAQ;AAEX,uBAAK,aAAa;AAClB,yBAAO,IAAI,MAAM,aAAa,KAAK,UAAU,GAAG,CAAC,CAAC;AAAA,gBACtD;AAAA,cACH,GAAE,IAAI;AAAA,YACV,GAAE,GAAG;AAAA,UACV,CAAC;AAGD,qBAAW,MAAM;AACb,iBAAK,aAAa;AAClB,mBAAO,IAAI,MAAM,QAAQ,CAAC;AAAA,UAC7B,GAAE,GAAK;AAAA,QACV,SAAO,OAAO;AACZ,eAAK,aAAa;AAClB,iBAAO,KAAK;AAAA,QAChB;AAAA,MACb,CAAC;AAAA,IACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYD,MAAM,SAAS,KAAK,MAAM,aAAa,cAAc;AACpD,YAAM,MAAM,KAAK,OAAO;AACxB,YAAM,OAAO,KAAK,eAAe,IAAI,QAAQ,MAAM;AACnD,YAAM,MAAM,KAAK,eAAe,IAAI,OAAO,MAAM;AACjD,YAAM,QAAQ,KAAK,eAAe,IAAI,SAAS,MAAM;AACrD,YAAM,SAAS,KAAK,eAAe,IAAI,UAAU,MAAM;AAEvD,cAAQ,KAAK,MAAI;AAAA,QAChB,KAAK;AAEJ,cAAI,IAAI,YAAY;AAEnB,gBAAI,IAAI,WAAW,SAAS,iBAAiB,KAAK,IAAI,WAAW,SAAS,iBAAiB,GAAG;AAC7F,mBAAK,uBAAuB,KAAK,KAAK,MAAM,KAAK,OAAO,MAAM;AAAA,mBACxD;AACN,kBAAI,aAAa,IAAI,UAAU;AAE/B,kBAAI,IAAI,QAAQ;AACf,sBAAM,SAAS,KAAK,eAAe,IAAI,MAAM;AAC7C,qBAAK,cAAc,KAAK,MAAM,KAAK,OAAO,QAAQ,QAAQ,IAAI,UAAU;AAAA,qBAClE;AACN,oBAAI,SAAS,MAAM,KAAK,OAAO,MAAM;AAAA,cACtC;AAAA,YACD;AAAA,UACD;AACA;AAAA,QAED,KAAK;AAEJ,cAAI,IAAI;AAAO,gBAAI,aAAa,IAAI,KAAK;AACzC,cAAI,IAAI,UAAU;AACjB,kBAAM,WAAW,KAAK,eAAe,IAAI,QAAQ;AACjD,gBAAI,YAAY,QAAQ;AAAA,UACzB;AACA,cAAI,IAAI,YAAY;AACnB,gBAAI,aAAa,IAAI,eAAe,SAAS,IAAI,CAAC;AAAA,UACnD;AAGA,cAAI,IAAI,WAAW;AAClB,iBAAK,sBAAsB,KAAK,KAAK,MAAM,MAAM,KAAK,OAAO,GAAG;AAAA,iBAC1D;AAEN,kBAAM,eAAe,IAAI,WAAW,KAAK,eAAe,IAAI,QAAQ,IAAI,IAAI;AAC5E,gBAAI,SAAS,KAAK,MAAM,MAAM,MAAM,YAAY;AAAA,UACjD;AACA;AAAA,QAED,KAAK;AAEJ,iBAAO,IAAI,QAAQ,CAAC,YAAY;AAC/BA,0BAAAA,MAAI,aAAa;AAAA,cAChB,KAAK,KAAK;AAAA,cACV,SAAS,CAAC,QAAQ;AAGjB,oBAAI,IAAI,QAAQ;AACf,wBAAM,SAAS,KAAK,eAAe,IAAI,MAAM;AAC7C,uBAAK,cAAc,KAAK,MAAM,KAAK,OAAO,QAAQ,MAAM;AAAA,gBACzD;AAEA,oBAAI,UAAU,IAAI,MAAM,MAAM,KAAK,OAAO,MAAM;AAEhD,oBAAI,QAAO;AACX;cACA;AAAA,cACD,MAAM,CAAC,MAAM;AAEZ,oBAAI,aAAa,SAAS;AAC1B,oBAAI,SAAS,MAAM,KAAK,OAAO,MAAM;AACrCA,oCAAY,MAAA,OAAA,mEAAA,aAAa,KAAK,KAAK,CAAC;AACpC;cACD;AAAA,YACD,CAAC;AAAA,UACF,CAAC;AAAA,QAEF,KAAK;AAEJ,cAAI,KAAK,MAAM;AAEd,kBAAM,iBAAiB,MAAM,KAAK,eAAe,KAAK,MAAM,OAAO,MAAM;AACzE,mBAAO,IAAI,QAAQ,CAAC,YAAY;AAC/BA,4BAAAA,MAAI,aAAa;AAAA,gBAChB,KAAK;AAAA,gBACL,SAAS,CAAC,QAAQ;AACjB,sBAAI,UAAU,IAAI,MAAM,MAAM,KAAK,OAAO,MAAM;AAChD;gBACA;AAAA,gBACD,MAAM,MAAM;AAEX,sBAAI,aAAa,SAAS;AAC1B,sBAAI,SAAS,MAAM,KAAK,OAAO,MAAM;AACrC,sBAAI,aAAa,MAAM;AACvB,sBAAI,YAAY,EAAE;AAClB,sBAAI,aAAa,QAAQ;AACzB,sBAAI,SAAS,MAAM,OAAO,QAAM,GAAG,MAAM,SAAO,CAAC;AACjD,sBAAI,aAAa,MAAM;AACvB;gBACD;AAAA,cACD,CAAC;AAAA,YACF,CAAC;AAAA,iBACK;AAEN,gBAAI,aAAa,SAAS;AAC1B,gBAAI,SAAS,MAAM,KAAK,OAAO,MAAM;AACrC,gBAAI,aAAa,MAAM;AACvB,gBAAI,YAAY,EAAE;AAClB,gBAAI,aAAa,QAAQ;AACzB,gBAAI,SAAS,MAAM,OAAO,QAAM,GAAG,MAAM,SAAO,CAAC;AACjD,gBAAI,aAAa,MAAM;AAAA,UACxB;AACA;AAAA,MACF;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcD,cAAc,KAAK,GAAG,GAAG,OAAO,QAAQ,QAAQ,WAAW;AAC1D,UAAI,KAAI;AACR,UAAI,UAAS;AACb,UAAI,OAAO,IAAI,QAAQ,CAAC;AACxB,UAAI,OAAO,IAAI,QAAQ,QAAQ,CAAC;AAChC,UAAI,iBAAiB,IAAI,OAAO,GAAG,IAAI,OAAO,IAAI,MAAM;AACxD,UAAI,OAAO,IAAI,OAAO,IAAI,SAAS,MAAM;AACzC,UAAI,iBAAiB,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,QAAQ,IAAI,MAAM;AAC1E,UAAI,OAAO,IAAI,QAAQ,IAAI,MAAM;AACjC,UAAI,iBAAiB,GAAG,IAAI,QAAQ,GAAG,IAAI,SAAS,MAAM;AAC1D,UAAI,OAAO,GAAG,IAAI,MAAM;AACxB,UAAI,iBAAiB,GAAG,GAAG,IAAI,QAAQ,CAAC;AACxC,UAAI,UAAS;AACb,UAAI,WAAW;AACd,YAAI,aAAa,SAAS;AAC1B,YAAI,KAAI;AAAA,MACT;AACA,UAAI,QAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAaD,cAAc,KAAK,GAAG,GAAG,OAAO,QAAQ,QAAQ;AAC/C,UAAI,KAAI;AACR,UAAI,UAAS;AACb,UAAI,IAAI,IAAI,QAAQ,IAAI,QAAQ,QAAQ,KAAK,IAAI,KAAK,KAAK,GAAG;AAC9D,UAAI,OAAO,IAAI,QAAQ,QAAQ,CAAC;AAChC,UAAI,IAAI,IAAI,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,KAAK,KAAK,KAAK,KAAK,KAAK,CAAC;AAC1E,UAAI,OAAO,IAAI,OAAO,IAAI,SAAS,MAAM;AACzC,UAAI,IAAI,IAAI,QAAQ,QAAQ,IAAI,SAAS,QAAQ,QAAQ,GAAG,KAAK,KAAK,GAAG;AACzE,UAAI,OAAO,IAAI,QAAQ,IAAI,MAAM;AACjC,UAAI,IAAI,IAAI,QAAQ,IAAI,SAAS,QAAQ,QAAQ,KAAK,KAAK,KAAK,KAAK,EAAE;AACvE,UAAI,UAAS;AACb,UAAI,KAAI;AAAA,IACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAaD,sBAAsB,KAAK,MAAM,GAAG,GAAG,UAAU,KAAK;AAC5C,YAAM,YAAY,SAAS,IAAI,SAAS,KAAK;AAC7C,YAAM,aAAa,IAAI,aAAa,KAAK,eAAe,IAAI,UAAU,IAAI;AAC1E,YAAM,QAAQ,CAAA;AACd,UAAI,cAAc;AAElB,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,cAAM,OAAO,KAAK,CAAC;AACnB,cAAM,WAAW,cAAc;AAC/B,cAAM,UAAU,IAAI,YAAY,QAAQ;AAExC,YAAI,QAAQ,QAAQ,YAAY,gBAAgB,IAAI;AAChD,gBAAM,KAAK,WAAW;AACtB,wBAAc;AAGd,cAAI,MAAM,WAAW,WAAW;AAC5B,gBAAI,QAAQ,QAAQ,UAAU;AAE1B,kBAAI,UAAU,YAAY,UAAU,GAAG,YAAY,SAAS,CAAC;AAC7D,qBAAO,IAAI,YAAY,UAAU,KAAK,EAAE,QAAQ,YAAY,QAAQ,SAAS,GAAG;AAC5E,0BAAU,QAAQ,UAAU,GAAG,QAAQ,SAAS,CAAC;AAAA,cACrD;AACA,oBAAM,MAAM,SAAS,CAAC,IAAI,UAAU;AAAA,YACxC;AACA;AAAA,UACJ;AAAA,eACG;AACH,wBAAc;AAAA,QAClB;AAGA,YAAI,MAAM,KAAK,SAAS,KAAK,MAAM,SAAS,WAAW;AACnD,gBAAM,KAAK,WAAW;AAAA,QAC1B;AAAA,MACJ;AAGA,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AAEnC,cAAM,eAAe,IAAI,WAAW,KAAK,eAAe,IAAI,QAAQ,IAAI,IAAI;AAC5E,YAAI,SAAS,MAAM,CAAC,GAAG,GAAG,IAAK,IAAI,aAAc,YAAY;AAAA,MACjE;AAAA,IACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWP,eAAe,MAAM,OAAO,QAAQ;AACnC,aAAO,IAAI,QAAQ,CAAC,YAAY;AAE/B,cAAM,YAAY,GAAG,IAAI,IAAI,KAAK,IAAI,MAAM;AAG5C,YAAI,KAAK,UAAU,IAAI,SAAS,GAAG;AAClC,kBAAQ,KAAK,UAAU,IAAI,SAAS,CAAC;AACrC;AAAA,QACD;AAGA,YAAI;AAEH,eAAK,cAAc;AACnB,eAAK,aAAa,KAAK,IAAI,OAAO,MAAM;AACxC,eAAK,aAAa;AAGlB,eAAK,UAAU,MAAM;AAEpB,gBAAI,KAAK,MAAM,QAAQ;AAEtB,yBAAW,MAAM;AAEhB,qBAAK,MAAM,OAAO,eAAe;AAAA,kBAChC,SAAS,CAAC,QAAQ;AAEjB,yBAAK,UAAU,IAAI,WAAW,IAAI,YAAY;AAC9C,yBAAK,aAAa;AAClB,4BAAQ,IAAI,YAAY;AAAA,kBACxB;AAAA,kBACD,MAAM,CAAC,QAAQ;AACdA,kCAAc,MAAA,MAAA,SAAA,mEAAA,YAAY,GAAG;AAC7B,yBAAK,aAAa;AAAA,kBACnB;AAAA,gBACD,CAAC;AAAA,cACD,GAAE,GAAG;AAAA,mBACA;AAEN,mBAAK,aAAa;AAAA,YACnB;AAAA,UACD,CAAC;AAAA,QACA,SAAO,OAAO;AACfA,gHAAc,YAAY,KAAK;AAC/B,eAAK,aAAa;AAAA,QACnB;AAAA,MACD,CAAC;AAAA,IACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASD,eAAe,UAAU;AACxB,UAAI,OAAO,aAAa;AAAU,eAAO;AAGzC,UAAI,OAAO,aAAa,YAAY,SAAS,SAAS,KAAK,GAAG;AAC7D,cAAM,QAAQ,WAAW,QAAQ;AACjC,eAAOC,cAAAA,OAAO,KAAK;AAAA,MACpB;AAEA,aAAO,WAAW,QAAQ,KAAK;AAAA,IAC/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAaD,uBAAuB,KAAK,KAAK,MAAM,KAAK,OAAO,QAAQ;AAC1D,YAAM,aAAa,IAAI;AACvB,UAAI,WAAW;AAGf,UAAI,WAAW,SAAS,iBAAiB,GAAG;AAE3C,cAAM,aAAa,WAAW,MAAM,2BAA2B;AAC/D,cAAM,QAAQ,aAAa,SAAS,WAAW,CAAC,CAAC,IAAI;AAGrD,YAAI,SAAS,MAAM,SAAS,KAAK,OAAO,OAAO,OAAO,OAAO,MAAM;AAGnE,YAAI,UAAU,GAAG;AAChB,mBAAS;AACT,mBAAS,MAAM;AACf,iBAAO;AACP,iBAAO;AAAA,QACR,WAAW,UAAU,IAAI;AACxB,mBAAS;AACT,mBAAS;AACT,iBAAO,OAAO;AACd,iBAAO;AAAA,QACR,WAAW,UAAU,KAAK;AACzB,mBAAS;AACT,mBAAS;AACT,iBAAO;AACP,iBAAO,MAAM;AAAA,QACd,WAAW,UAAU,KAAK;AACzB,mBAAS,OAAO;AAChB,mBAAS;AACT,iBAAO;AACP,iBAAO;AAAA,QACR;AAEA,mBAAW,IAAI,qBAAqB,QAAQ,QAAQ,MAAM,IAAI;AAG9D,cAAM,eAAe,WAAW,MAAM,+BAA+B;AACrE,YAAI,gBAAgB,aAAa,UAAU,GAAG;AAE7C,uBAAa,QAAQ,CAAC,OAAO,UAAU;AACtC,kBAAM,OAAO,SAAS,aAAa,SAAS;AAC5C,qBAAS,aAAa,MAAM,KAAK;AAAA,UAClC,CAAC;AAAA,QACF;AAAA,MACD,WAES,WAAW,SAAS,iBAAiB,GAAG;AAEhD,cAAM,UAAU,OAAO,QAAQ;AAC/B,cAAM,UAAU,MAAM,SAAS;AAC/B,cAAM,SAAS,KAAK,IAAI,OAAO,MAAM,IAAI;AAEzC,mBAAW,IAAI,qBAAqB,SAAS,SAAS,GAAG,SAAS,SAAS,MAAM;AAGjF,cAAM,eAAe,WAAW,MAAM,+BAA+B;AACrE,YAAI,gBAAgB,aAAa,UAAU,GAAG;AAE7C,uBAAa,QAAQ,CAAC,OAAO,UAAU;AACtC,kBAAM,OAAO,SAAS,aAAa,SAAS;AAC5C,qBAAS,aAAa,MAAM,KAAK;AAAA,UAClC,CAAC;AAAA,QACF;AAAA,MACD;AAEA,UAAI,UAAU;AACb,YAAI,aAAa,QAAQ;AAEzB,YAAI,IAAI,QAAQ;AACf,gBAAM,SAAS,KAAK,eAAe,IAAI,MAAM;AAC7C,eAAK,cAAc,KAAK,MAAM,KAAK,OAAO,QAAQ,QAAQ,QAAQ;AAAA,eAC5D;AACN,cAAI,SAAS,MAAM,KAAK,OAAO,MAAM;AAAA,QACtC;AAAA,MACD;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASD,cAAc,SAAS;AAkBtB,aAAO;AAAA,IACP;AAAA,EACF;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrlBA,GAAG,gBAAgB,SAAS;","x_google_ignoreList":[0]}